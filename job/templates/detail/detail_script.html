{% load static %}
<script src="{% static 'js/job_detail_vue.js' %}"></script>



<script>

    $(document).ready(function() {
        var user = {{ request.userModel|safe }}
        var jobDetail = {{ data|safe }}
        app.job = jobDetail
        app.job.payFormat = numberWithCommas(app.job.pay)
        if (!isEmpty(user.phone_number)) {
            app.contactNumber = user.phone_number
            app.hasContactNumber = true
        }

        // 스크롤 리스너 연결
        initScrollListener()

    });


    // scroll listener
    function initScrollListener() {

        var windowHeight = $(window).height();
        $(window).scroll(function () {

            var documentHeight = $(document).height();
            var scrollHeight = documentHeight - windowHeight

            // 스크롤 길이가 54px보다 크면 floating 버튼의 show/hide 동작을 추가한다.
            if (scrollHeight > 54) {

               var scrollY = $(document).scrollTop();
               if (scrollY > (scrollHeight - 54)) {
                   $("#btnFloating").hide()
               }
               else {
                   $("#btnFloating").show()
               }

            }
            else {
               $("#btnFloating").hide()
            }
        });

    }



</script>
